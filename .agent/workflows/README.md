# Workflows ガイド

このディレクトリには、AntigravityTest プロジェクトで使用する開発ワークフローのドキュメントが含まれています。

## 概要

ワークフローは、Unreal Engine 5プロジェクトにおける一般的なタスクや開発サイクルを標準化し、効率的な開発を支援するためのガイドラインです。各ワークフローは、特定のタスクを実行するための手順、ベストプラクティス、注意点を記載しています。

## ワークフロー一覧

### 1. build_and_launch_ue5.md
**用途**: プロジェクトのビルドとエディタの起動

このワークフローでは以下の内容をカバーします:
- UnrealBuildToolを使用したプロジェクトのコンパイル
- ビルドエラーのトラブルシューティング
- エディタの起動手順
- CI/CD環境でのビルド設定

**使うタイミング**:
- プロジェクトの初回セットアップ時
- C++コードを変更した後
- プラグインを追加・更新した後
- ビルドエラーが発生した場合

### 2. create_gameplay_ability.md
**用途**: Gameplay Ability Systemを使用した新しいアビリティの作成

このワークフローでは以下の内容をカバーします:
- GameplayAbilityクラスの作成
- アビリティのアクティベーション処理
- コスト、クールダウン、タグの設定
- Blueprintとの連携

**使うタイミング**:
- キャラクターの新しいスキルや能力を追加する時
- アイテム使用効果を実装する時
- ステータス効果やバフ/デバフを実装する時

### 3. create_ai_decorator.md
**用途**: Behavior TreeのカスタムDecoratorノードの作成

このワークフローでは以下の内容をカバーします:
- BTDecoratorクラスの継承と実装
- 条件判定ロジックの実装
- Observer Abortsの設定
- パフォーマンス最適化

**使うタイミング**:
- AIの条件分岐をカスタマイズする時
- 複雑な判定ロジックが必要な場合
- 既存のDecoratorでは表現できない条件がある時

### 4. create_3d_game_cycle.md
**用途**: 3Dゲーム開発の完全なサイクルのガイド

このワークフローでは以下の内容をカバーします:
- コンセプトからプロトタイピングまで
- アセット作成とインポート
- ゲームプレイ実装
- テストとデバッグ
- 最適化とパッケージング

**使うタイミング**:
- 新しいゲームモードやレベルを作成する時
- プロジェクトの開発フェーズを理解したい時
- チーム間で開発プロセスを統一する時

### 5. check_gameplay_abilities.md
**用途**: Gameplay Ability Systemの設定と実装の検証

このワークフローでは以下の内容をカバーします:
- Ability System Componentの確認
- アビリティの登録状態の検証
- タグとエフェクトの整合性チェック
- デバッグ方法

**使うタイミング**:
- GASが正しく動作しないとき
- アビリティが発動しない問題のデバッグ時
- プロジェクトへのGAS導入時の確認

### 6. ensure_property_access.md
**用途**: C++プロパティのBlueprintアクセスの確保

このワークフローでは以下の内容をカバーします:
- UPROPERTYマクロの適切な使用
- BlueprintReadOnly/BlueprintReadWriteの設定
- metaタグの活用
- アクセスレベルの制御

**使うタイミング**:
- 新しいC++クラスを作成した時
- BlueprintからC++プロパティにアクセスできない時
- エディタでプロパティが表示されない問題の解決時

## 使い方ガイド

### ワークフローの基本的な使い方

1. **ワークフローの選択**
   - 実行したいタスクに最も適したワークフローを上記の一覧から選択します
   - 複数のワークフローが関連する場合は、推奨される順序で実行してください

2. **前提条件の確認**
   - 各ワークフローには前提条件が記載されています
   - 必要なモジュールやプラグインが有効化されているか確認します

3. **手順の実行**
   - ワークフローに記載された手順を順番に実行します
   - 各ステップで推奨されるベストプラクティスに従います

4. **検証**
   - 実装後、期待通りに動作するか確認します
   - テストやデバッグの手順に従って検証を行います

### ワークフローを使うタイミングの判断

- **新機能の実装時**: 関連するワークフローを参照して、実装の方針を決定
- **エラーやバグの解決時**: 該当する検証ワークフローで問題を特定
- **コードレビュー時**: ワークフローのベストプラクティスに準拠しているか確認
- **チーム内の知識共有**: 新しいメンバーへの教育資料として活用

## 新しいワークフローの追加方法

プロジェクトの進展に伴い、新しいワークフローが必要になる場合があります。

### 追加手順

1. **ワークフローの必要性を評価**
   - 頻繁に行う作業か
   - 複数の開発者が関わるタスクか
   - 標準化することで品質や効率が向上するか

2. **ドキュメントの作成**
   ```markdown
   # [ワークフロー名]

   ## 概要
   このワークフローの目的と概要

   ## 前提条件
   - 必要な知識
   - 必要なツールやプラグイン
   - 事前に完了すべきタスク

   ## 手順
   1. ステップ1
   2. ステップ2
   ...

   ## ベストプラクティス
   - 推奨事項
   - よくある間違い

   ## トラブルシューティング
   - よくある問題とその解決方法

   ## 関連リソース
   - 関連ドキュメントへのリンク
   ```

3. **このREADMEの更新**
   - 新しいワークフローを「ワークフロー一覧」セクションに追加
   - 用途、カバー内容、使うタイミングを記載

4. **レビューとテスト**
   - チームメンバーにレビューを依頼
   - 実際にワークフローに従って作業し、不明確な点を修正

## 参照情報

### 関連ドキュメント

- **[CLAUDE.md](../../CLAUDE.md)**: プロジェクト全体のガイドライン、コーディング規約、プロジェクト構造
- **[PLUGINS.md](../../PLUGINS.md)**: プラグイン統合ガイド、プラグイン開発のベストプラクティス
- **[SETUP.md](../../SETUP.md)**: プロジェクトのセットアップ手順
- **[scripts/README.md](../../scripts/README.md)**: 開発支援スクリプトの使用方法

### カスタムコマンド

`.claude/commands/` ディレクトリには、よく使うタスクを自動化するカスタムコマンドが含まれています:

- **link-plugin.md**: プラグインのシンボリックリンク作成コマンド

### AGENTS.md（計画中）

将来的に、AIエージェントやアシスタントの設定と使用方法を記載した `AGENTS.md` を追加予定です。このドキュメントでは、開発ワークフローにおけるAI支援ツールの活用方法を説明します。

## ベストプラクティス

### ワークフロー使用時の推奨事項

1. **常に最新版を参照**: ワークフローは定期的に更新されます。作業前に最新版を確認してください

2. **プロジェクト規約の遵守**: 各ワークフローは CLAUDE.md のコーディング規約に基づいています

3. **変更の記録**: ワークフローを実行した際の気づきや改善点を記録し、フィードバックしてください

4. **段階的な適用**: 大きな変更を一度に行うのではなく、ワークフローに従って段階的に実装してください

5. **テストの徹底**: 各ワークフローにはテスト手順が含まれています。必ず実行してください

## トラブルシューティング

### よくある問題

**Q: ワークフローに従っているのに期待通りに動作しない**
- プロジェクト設定（Config/*.ini）が正しいか確認
- 必要なモジュールが Build.cs に追加されているか確認
- エディタを再起動してキャッシュをクリア

**Q: ワークフローの手順が古い、または不明確**
- Issueを作成して報告してください
- または直接ドキュメントを更新してPull Requestを送ってください

**Q: 複数のワークフローが関連する場合の優先順位は?**
- 基本的なセットアップワークフロー（build_and_launch_ue5.md）を最初に実行
- 機能実装ワークフロー（create_gameplay_ability.md など）を次に実行
- 検証ワークフロー（check_gameplay_abilities.md など）を最後に実行

## 貢献

ワークフローの改善や新規追加を歓迎します。貢献方法:

1. このリポジトリをフォーク
2. 新しいブランチを作成（`feature/new-workflow` など）
3. ワークフローを追加または修正
4. このREADMEを更新
5. Pull Requestを作成

---

**最終更新**: 2025-12-30
**メンテナー**: プロジェクトチーム
